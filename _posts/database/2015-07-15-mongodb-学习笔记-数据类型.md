---
layout: post
title: MongoDB学习笔记-数据类型
category: database
tags: [MongoDB , database, linux]
description: MongoDB数据类型。
---

## MongoDB基本数据类型
在概念上，MongoDB 的文档与JavaScript 中的对象相近， 因而可认为它类似于
JSON。[JSON][1]是一种简单的数据表示方式：其规范仅用一段文字就能描述清楚（其官网证明了这点），且仅包含6 种数据类型。
MongoDB 在保留JSON 基本键/ 值对特性的基础上，添加了其他一些数据类型。
在不同的编程语言下，这些类型的确切表示有些许差异。下面说明MongoDB 支持
的其他通用类型，以及如何在文档中使用它们。

- null

> null 用于表示空值或者不存在的字段： {"x" : null}

- 布尔型

> 布尔类型有两个值true和false： {"x" : true}

- 数值

> shell 默认使用64 位浮点型数值。因此，以下数值在shell 中是很“正常”的：
{"x" : 3.14} 或 {"x" : 3}

> 对于整型值，可使用NumberInt 类（表示4 字节带符号整数）或NumberLong
类（表示8 字符带符号整数），分别举例如下：
{"x" : NumberInt("3")}
{"x" : NumberLong("3")}

- 字符串 (UTF-8 字符串都可表示为字符串类型的数据：)

> {"x" : "foobar"}

- 日期 (日期被存储为自新纪元以来经过的毫秒数，不存储时区：)
在JavaScript 中，Date 类可以用作MongoDB 的日期类型。创建日期对象时，应使
用new Date（…），而非Date（…）。如将构造函数（constructor）作为函数进行调
用（即不包括new 的方式），返回的是日期的字符串表示，而非日期（Date）对象。

> {"x" : new Date()}

- 正则表达式 (查询时，使用正则表达式作为限定条件，语法也与JavaScript 的正则表达式语法相同：)

> {"x" : /foobar/i}

- 数组 (数据列表或数据集可以表示为数组：)

> {"x" : ["a", "b", "c"]}

- 内嵌文档 (文档可嵌套其他文档，被嵌套的文档作为父文档的值：)

> {"x" : {"foo" : "bar"}}

- 对象id （对象id 是一个12 字节的ID，是文档的唯一标识）

> {"x" : ObjectId()}

**以下一些不那么常用，但可能有需要的类型**

- 二进制数据

> 二进制数据是一个任意字节的字符串。它不能直接在shell 中使用。如果要将非UTF-8 字符保存到数据库中，二进制数据是唯一的方式。

- 代码
> 查询和文档中可以包括任意JavaScript 代码：
{"x" : function() { /* ... */ }}


## _id和ObjectId

> MongoDB 中存储的文档必须有一个"_id" 键。这个键的值可以是任何类型的，默
认是个ObjectId 对象。在一个集合里面，每个文档都有唯一的"_id"，确保集合里
面每个文档都能被唯一标识

> ObjectId 是"_id" 的默认类型。它设计成轻量型的，不同的机器都能用全局唯一
的同种方法方便地生成它。

> ObjectId 使用12 字节的存储空间，是一个由24 个十六进制数字组成的字符串
（每个字节可以存储两个十六进制数字）
![ObjectId组成][2]


  [1]: http://www.json.org
  [2]: http://chuantu.biz/t2/10/1436944432x-954498974.png